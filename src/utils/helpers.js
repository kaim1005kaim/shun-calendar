/**
 * ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
 */

// æ—¥ä»˜ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
export const formatDate = (date) => {
  return date.toLocaleDateString('ja-JP', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    weekday: 'long'
  });
};

// é£Ÿæã®ã‚µãƒ ãƒã‚¤ãƒ«çµµæ–‡å­—ã‚’å–å¾—ã™ã‚‹é–¢æ•°
export const getThumbnail = (item, category) => {
  const thumbnails = {
    dish: {
      'ãŠã§ã‚“': 'ğŸ¢', 'é‹æ–™ç†': 'ğŸ²', 'æ¹¯è±†è…': 'ğŸ²', 'ç²•æ±': 'ğŸ²', 'é›‘ç…®': 'ğŸœ', 'ä¸ƒè‰ç²¥': 'ğŸš',
      'é°¤å¤§æ ¹': 'ğŸŸ', 'è’¸ã—ç‰¡è £': 'ğŸ¦ª', 'æ²³è±šã¡ã‚Š': 'ğŸ¡', 'é‡‘ç›®é¯›ã®ç…®ä»˜ã‘': 'ğŸŸ',
      'æµæ–¹å·»': 'ğŸ£', 'ã¡ã‚‰ã—å¯¿å¸': 'ğŸ£', 'é°¤ã®ç…§ã‚Šç„¼ã': 'ğŸŸ', 'ç‰¡è £ãƒ•ãƒ©ã‚¤': 'ğŸ¦ª',
      'ç­ã”é£¯': 'ğŸš', 'æ¡œé¤…': 'ğŸŒ¸', 'è›¤ã®ãŠå¸ã„ç‰©': 'ğŸ²', 'èœã®èŠ±ã®ãŠã²ãŸã—': 'ğŸ¥¬',
      'å±±èœã®å¤©ã·ã‚‰': 'ğŸ¤', 'ãã‚‰ã¾ã‚ã”é£¯': 'ğŸš', 'é°†ã®å¡©ç„¼ã': 'ğŸŸ', 'åˆé°¹ã®ãŸãŸã': 'ğŸŸ',
      'é®ã®å¡©ç„¼ã': 'ğŸŸ', 'é±§ã®æ¹¯å¼•ã': 'ğŸŸ', 'å†·å¥´': 'ğŸ§Š', 'å†·ã‚„ã—ä¸­è¯': 'ğŸœ',
      'ãã‚…ã†ã‚Šã®é…¢ã®ç‰©': 'ğŸ¥’', 'ãƒˆãƒãƒˆã‚µãƒ©ãƒ€': 'ğŸ…', 'æè±†': 'ğŸ«›', 'ã¨ã†ã‚‚ã‚ã“ã—ã”é£¯': 'ğŸŒ½',
      'ã‚¢ã‚¹ãƒ‘ãƒ©ã‚¬ã‚¹ã¨ãƒ™ãƒ¼ã‚³ãƒ³ã®ç‚’ã‚ç‰©': 'ğŸ¥“', 'æ–°ãŸã¾ã­ãã®ã‚µãƒ©ãƒ€': 'ğŸ§…', 'æ–°ã˜ã‚ƒãŒã®å‘³å™Œæ±': 'ğŸ²', 
      'ã‚¢ã‚¹ãƒ‘ãƒ©ã‚¬ã‚¹ã®èƒ¡éº»å’Œãˆ': 'ğŸ¥’', 'é°¹ã®åˆºèº«': 'ğŸŸ', 'é°ã®å¤©ã·ã‚‰': 'ğŸ¤',
      'é°»ã®è’²ç„¼ã': 'ğŸŸ', 'å†·ã‚„ã—ãã†ã‚ã‚“': 'ğŸœ', 'ã‚´ãƒ¼ãƒ¤ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼': 'ğŸ¥¬',
      'ç§‹åˆ€é­šã®å¡©ç„¼ã': 'ğŸŸ', 'æˆ»ã‚Šé°¹ã®ãŸãŸã': 'ğŸŸ', 'æ —ã”é£¯': 'ğŸŒ°', 'ãã®ã“ã”é£¯': 'ğŸ„',
      'ã•ã¤ã¾ã„ã‚‚ã®å¤©ã·ã‚‰': 'ğŸ ', 'é‡ŒèŠ‹ã®ç…®ã£ã“ã‚ãŒã—': 'ğŸ¥”', 'ã‹ã¼ã¡ã‚ƒã®ç…®ç‰©': 'ğŸƒ',
      'æ¾èŒ¸ã®åœŸç“¶è’¸ã—': 'ğŸ„', 'é®­ã®ã¡ã‚ƒã‚“ã¡ã‚ƒã‚“ç„¼ã': 'ğŸŸ', 'ãªã™ã®å‘³å™Œç‚’ã‚': 'ğŸ†',
      'é®­ã®å¡©ç„¼ã': 'ğŸŸ', 'é°¯ã®æ¢…ç…®': 'ğŸŸ', 'ç‰¡è £é‹': 'ğŸ¦ª', 'å¹´è¶Šã—ãã°': 'ğŸœ'
    },
    fish: {
      'é°¤ï¼ˆã¶ã‚Šï¼‰': 'ğŸŸ', 'é±ˆï¼ˆãŸã‚‰ï¼‰': 'ğŸŸ', 'ç‰¡è £ï¼ˆã‹ãï¼‰': 'ğŸ¦ª', 'æ²³è±šï¼ˆãµãï¼‰': 'ğŸ¡',
      'é®Ÿé±‡ï¼ˆã‚ã‚“ã“ã†ï¼‰': 'ğŸŸ', 'é‡‘ç›®é¯›ï¼ˆãã‚“ã‚ã ã„ï¼‰': 'ğŸŸ', 'ãƒ’ãƒ©ãƒ¡': 'ğŸŸ', 'ãƒãƒãƒ': 'ğŸŸ',
      'ãƒã‚°ãƒ­': 'ğŸŸ', 'ç”˜æµ·è€': 'ğŸ¦', 'çœŸé¯›ï¼ˆã¾ã ã„ï¼‰': 'ğŸŸ', 'æ¡œé¯›ï¼ˆã•ãã‚‰ã ã„ï¼‰': 'ğŸŸ',
      'è›¤ï¼ˆã¯ã¾ãã‚Šï¼‰': 'ğŸš', 'ç™½é­šï¼ˆã—ã‚‰ã†ãŠï¼‰': 'ğŸŸ', 'é°†ï¼ˆã•ã‚ã‚‰ï¼‰': 'ğŸŸ', 'ãƒ¡ãƒãƒ«': 'ğŸŸ',
      'ã‚«ãƒ¬ã‚¤': 'ğŸŸ', 'ã‚¹ã‚ºã‚­': 'ğŸŸ', 'ã²ã˜ã': 'ğŸŒ¿', 'åˆé°¹ï¼ˆã¯ã¤ãŒã¤ãŠï¼‰': 'ğŸŸ',
      'é¯µï¼ˆã‚ã˜ï¼‰': 'ğŸŸ', 'ã‚¢ã‚µãƒª': 'ğŸš', 'é°ˆï¼ˆã‹ã‚Œã„ï¼‰': 'ğŸŸ', 'é±šï¼ˆãã™ï¼‰': 'ğŸŸ',
      'é®ï¼ˆã‚ã‚†ï¼‰': 'ğŸŸ', 'ã‚«ãƒ³ãƒ‘ãƒ': 'ğŸŸ', 'ãƒ›ã‚¿ãƒ†': 'ğŸš', 'ã‚¤ã‚µã‚­': 'ğŸŸ',
      'å¤ªåˆ€é­šï¼ˆãŸã¡ã†ãŠï¼‰': 'ğŸŸ', 'é±§ï¼ˆã¯ã‚‚ï¼‰': 'ğŸŸ', 'é°»ï¼ˆã†ãªãï¼‰': 'ğŸŸ', 'ã‚¢ãƒŠã‚´': 'ğŸŸ',
      'ã‚¤ãƒ¯ã‚·': 'ğŸŸ', 'ã‚­ã‚¹': 'ğŸŸ', 'ç©´å­ï¼ˆã‚ãªã”ï¼‰': 'ğŸŸ', 'é¯–ï¼ˆã•ã°ï¼‰': 'ğŸŸ',
      'ã‚¢ã‚¸': 'ğŸŸ', 'è›¸ï¼ˆãŸã“ï¼‰': 'ğŸ™', 'é®ªï¼ˆã¾ãã‚ï¼‰': 'ğŸŸ', 'é¯›ï¼ˆãŸã„ï¼‰': 'ğŸŸ',
      'ã‚«ãƒã‚¹': 'ğŸŸ', 'ç§‹åˆ€é­šï¼ˆã•ã‚“ã¾ï¼‰': 'ğŸŸ', 'æˆ»ã‚Šé°¹ï¼ˆã‚‚ã©ã‚ŠãŒã¤ãŠï¼‰': 'ğŸŸ',
      'é®­ï¼ˆã•ã‘ï¼‰': 'ğŸŸ', 'ãƒã‚¼': 'ğŸŸ', 'é°¯ï¼ˆã„ã‚ã—ï¼‰': 'ğŸŸ', 'ã‚µãƒ³ãƒ': 'ğŸŸ',
      'ã—ã—ã‚ƒã‚‚': 'ğŸŸ', 'ãƒã‚¿ãƒã‚¿': 'ğŸŸ', 'ã‚¹ãƒ«ãƒ¡ã‚¤ã‚«': 'ğŸ¦‘', 'ã‚ºãƒ¯ã‚¤ã‚¬ãƒ‹': 'ğŸ¦€',
      'ãƒ›ã‚¿ãƒ«ã‚¤ã‚«': 'ğŸ¦‘', 'ãƒ¯ã‚«ã‚µã‚®': 'ğŸŸ', 'ãƒ¤ãƒªã‚¤ã‚«': 'ğŸ¦‘'
    },
    vegetable: {
      'ç™½èœ': 'ğŸ¥¬', 'å¤§æ ¹': 'ğŸ¥•', 'äººå‚': 'ğŸ¥•', 'ã”ã¼ã†': 'ğŸª´', 'ã‚Œã‚“ã“ã‚“': 'ğŸª´',
      'æ˜¥èŠ': 'ğŸ¥¬', 'ã»ã†ã‚Œã‚“è‰': 'ğŸ¥¬', 'å°æ¾èœ': 'ğŸ¥¬', 'ãƒã‚®': 'ğŸŒ¿', 'æ°´èœ': 'ğŸ¥¬',
      'ã‚«ãƒ–': 'ğŸª´', 'ã‚»ãƒª': 'ğŸŒ¿', 'ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼': 'ğŸ¥¦', 'ã‚«ãƒªãƒ•ãƒ©ãƒ¯ãƒ¼': 'ğŸ¥¦',
      'ã‚­ãƒ£ãƒ™ãƒ„': 'ğŸ¥¬', 'èœã®èŠ±': 'ğŸŒ¼', 'æ˜¥ã‚­ãƒ£ãƒ™ãƒ„': 'ğŸ¥¬', 'æ–°ç‰ã­ã': 'ğŸ§…',
      'ãµã': 'ğŸŒ¿', 'ãŸã‚‰ã®èŠ½': 'ğŸŒ¿', 'ã‚ã‚‰ã³': 'ğŸŒ¿', 'ç­ï¼ˆãŸã‘ã®ã“ï¼‰': 'ğŸ‹',
      'ãã‚‰ã¾ã‚': 'ğŸ«›', 'æ–°ã˜ã‚ƒãŒã„ã‚‚': 'ğŸ¥”', 'ã‚¢ã‚¹ãƒ‘ãƒ©ã‚¬ã‚¹': 'ğŸ¥’', 'ä¸‰ã¤è‘‰': 'ğŸŒ¿',
      'æ–°äººå‚': 'ğŸ¥•', 'ãƒ¬ã‚¿ã‚¹': 'ğŸ¥¬', 'ã‚»ãƒ­ãƒª': 'ğŸ¥¬', 'å±±èœ': 'ğŸŒ¿',
      'ã‚¹ãƒŠãƒƒãƒ—ã‚¨ãƒ³ãƒ‰ã‚¦': 'ğŸ«›', 'ã‚°ãƒªãƒ¼ãƒ³ãƒ”ãƒ¼ã‚¹': 'ğŸ«›', 'æ–°ã”ã¼ã†': 'ğŸª´',
      'ãã‚…ã†ã‚Š': 'ğŸ¥’', 'ãƒˆãƒãƒˆ': 'ğŸ…', 'ãªã™': 'ğŸ†', 'ãƒ”ãƒ¼ãƒãƒ³': 'ğŸŒ¶ï¸',
      'ã„ã‚“ã’ã‚“': 'ğŸ«›', 'ã‚ªã‚¯ãƒ©': 'ğŸŒ¿', 'ã‚ºãƒƒã‚­ãƒ¼ãƒ‹': 'ğŸ¥’', 'æè±†': 'ğŸ«›',
      'ã¨ã†ã‚‚ã‚ã“ã—': 'ğŸŒ½', 'æ–°ç”Ÿå§œ': 'ğŸ«š', 'ã‚‰ã£ãã‚‡ã†': 'ğŸ§…', 'ã¿ã‚‡ã†ãŒ': 'ğŸŒ¿',
      'ã‹ã¼ã¡ã‚ƒ': 'ğŸƒ', 'ã‚´ãƒ¼ãƒ¤': 'ğŸ¥’', 'ã‚·ã‚½': 'ğŸŒ¿', 'å†¬ç“œ': 'ğŸ¥’',
      'ã•ã¤ã¾ã„ã‚‚': 'ğŸ ', 'é‡ŒèŠ‹': 'ğŸ¥”', 'æ —': 'ğŸŒ°', 'ãã®ã“é¡': 'ğŸ„',
      'æ–°ç±³': 'ğŸŒ¾', 'ãƒãƒ³ã‚²ãƒ³èœ': 'ğŸ¥¬', 'é•·ãƒã‚®': 'ğŸŒ¿', 'ç”Ÿå§œ': 'ğŸ«š',
      'ãƒŠã‚¹': 'ğŸ†', 'æŸ¿': 'ğŸŸ '
    }
  };
  
  return thumbnails[category]?.[item] || (category === 'dish' ? 'ğŸ½ï¸' : category === 'fish' ? 'ğŸŸ' : 'ğŸ¥¬');
};

// æ™‚é–“å¸¯æƒ…å ±ã‚’å–å¾—ã™ã‚‹é–¢æ•°
export const getTimeOfDayInfo = () => {
  const hour = new Date().getHours();
  
  if (hour >= 5 && hour < 10) {
    return { period: 'æœ', icon: 'ğŸŒ…', class: 'morning' };
  } else if (hour >= 10 && hour < 15) {
    return { period: 'æ˜¼', icon: 'â˜€ï¸', class: 'afternoon' };
  } else if (hour >= 15 && hour < 18) {
    return { period: 'å¤•æ–¹', icon: 'ğŸŒ‡', class: 'evening' };
  } else if (hour >= 18 && hour < 23) {
    return { period: 'å¤œ', icon: 'ğŸŒ™', class: 'night' };
  } else {
    return { period: 'æ·±å¤œ', icon: 'ğŸŒŒ', class: 'midnight' };
  }
};

// ã‚¯ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰ã®URLã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
export const generateIngredientCookpadUrl = async (ingredientName) => {
  try {
    // é£Ÿæåã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆæ‹¬å¼§å†…ã®èª­ã¿æ–¹ã‚’é™¤å»ãªã©ï¼‰
    const cleanIngredient = ingredientName
      .replace(/ï¼ˆ.*?ï¼‰/g, '') // æ‹¬å¼§å†…ã®èª­ã¿æ–¹ã‚’é™¤å»
      .replace(/[()]/g, '') // è‹±èªæ‹¬å¼§ã‚‚é™¤å»
      .trim();
    
    console.log('ğŸ³ é£Ÿæãƒ™ãƒ¼ã‚¹ã‚¯ãƒƒã‚¯ãƒ‘ãƒƒãƒ‰æ¤œç´¢:', {
      å…ƒã®é£Ÿæå: ingredientName,
      æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: cleanIngredient
    });
    
    return `https://cookpad.com/search/${encodeURIComponent(cleanIngredient)}`;
  } catch (error) {
    console.log('âš ï¸ é£ŸæURLç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);
    return `https://cookpad.com/search/${encodeURIComponent(ingredientName)}`;
  }
};
